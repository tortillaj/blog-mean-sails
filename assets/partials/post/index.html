<h1 ng-show="pageTitle">{{ pageTitle }}</h1>

<div class="row" ng-hide="datas.posts.length">
    <h2 class="large-12 columns">
        <i class="attention icon"></i>

        <div class="content">
            Woops!
            <div class="subheader">No posts found.</div>
        </div>
    </h2>
</div>

<div class="row listview" ng-show="datas.posts.length" infinite-scroll="loadMore()" infinite-scroll-distance="3">

    <article class="large-12 columns" ng-repeat="post in datas.posts">

        <header>
            <h2 class="ui header"><a href="/#!/article/{{ post.slug }}/{{ post.id }}">{{ post.title }} <small>Posted <time>{{ post.createdAt | timeago }}</time></small></a></h2>
        </header>

        <markdown ng-model="post.body" truncate="500"></markdown>

        <footer class="row">
            <div class="large-6 small-12 columns">
                <ul class="button-group" ng-show="post.tags.length">
                    <li class="button tiny secondary" ng-repeat="tag in post.tags"><a href="/#!/tag/{{ tag }}"><i class="tag icon"></i> {{ tag | hyphensToSpaces | lowercase }}</a></li>
                </ul>
                <ul class="button-group" ng-show="post.categories.length">
                    <li class="button tiny secondary" ng-repeat="category in post.categories"><a href="/#!/category/{{ category }}"><i class="archive icon"></i> {{ category | hyphensToSpaces }}</a></li>
                </ul>
            </div>
            <div class="large-6 small-12 columns">
                <ul class="button-group">
                    <li ng-show="isAuthenticated"><a href="/#!/post/{{ post.id }}/edit" class="button small secondary">Edit <i class="icon pencil"></i></a></li>
                    <li><a href="/#!/article/{{ post.slug }}/{{ post.id }}" class="button small">Read more <i class="ui primary arrow right"></i></a></li>
                </ul>
            </div>
        </footer>

    </article>

    <section class="row pagination">
        <div ng-show="datas.currentPage > 1" class="large-6 columns">
            <a href="{{ prevLink }}" class="button small"><i class="icon arrow left"></i> Previous posts</a>
        </div>

        <div ng-show="datas.currentPage < datas.totalPosts / datas.postsPerPage" class="large-6 columns">
            <a href="{{ nextLink }}" class="button small">Next posts <i class="icon arrow right"></i></a>
        </div>
    </section>

</div>

